# 矢量数据格式

## GeoJSON

GeoJSON 是一种基于 JSON（JavaScript Object Notation）的开放标准格式，用于表示地理空间矢量数据。它广泛应用于 Web GIS、地图可视化和地理信息系统（GIS）中，特别是在需要与 Web 技术（如 JavaScript 和 HTML）集成时。

### GeoJSON 的特点

1. **基于 JSON**: 由于 GeoJSON 基于 JSON，它具有轻量、易于阅读和编写的特点，尤其适合网络传输和 Web 应用。

2. 支持多种几何类型

   : GeoJSON 支持多种几何类型，包括:

   - **Point**: 点，表示单个地理位置。
   - **LineString**: 线，表示一系列连接的地理位置（例如道路、河流）。
   - **Polygon**: 多边形，表示闭合的几何形状（例如湖泊、建筑轮廓）。
   - **MultiPoint**: 多点，表示一组点。
   - **MultiLineString**: 多线，表示一组线。
   - **MultiPolygon**: 多多边形，表示一组多边形。
   - **GeometryCollection**: 几何集合，可以包含多种几何类型。

3. **属性信息**: GeoJSON 不仅可以存储几何数据，还可以存储与几何相关的属性信息，这些信息以键值对的形式存储在 `properties` 字段中。

4. **坐标参考系**: GeoJSON 默认使用 WGS84 坐标参考系（EPSG:4326），其中经度在前，纬度在后。

### GeoJSON 示例

以下是一个简单的 GeoJSON 示例，描述了一个点和一个多边形：

```json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [102.0, 0.5]
      },
      "properties": {
        "name": "Sample Point"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [100.0, 0.0],
            [101.0, 0.0],
            [101.0, 1.0],
            [100.0, 1.0],
            [100.0, 0.0]
          ]
        ]
      },
      "properties": {
        "name": "Sample Polygon"
      }
    }
  ]
}
```

在这个示例中：

- `FeatureCollection` 表示一个包含多个地理要素的集合。
- 每个 `Feature` 具有一个 `geometry` 对象（表示几何形状）和一个 `properties` 对象（表示附加属性）。
- 点的坐标是 `[102.0, 0.5]`，多边形由多个经纬度坐标对构成，形成一个闭合区域。

可视化 JSON 的网站：[geojson.io | powered by Mapbox](https://geojson.io/#map=8/26.814/110.96)





------



## KML

KML（Keyhole Markup Language）是一种基于 XML 的标记语言，用于在地理信息系统（GIS）中表示地理数据。KML 由 Keyhole 公司开发，后来被 Google 收购并广泛应用于 Google Earth 和 Google Maps 等地理应用中。KML 允许用户在三维地球模型中展示地理信息，并支持多种地理要素和样式的定义。

### KML 的特点

1. **基于 XML**: KML 文件是标准的 XML 文件，具有易读性和结构化的优点，适合数据交换和网络传输。

2. 支持多种地理要素

   :

   - **Placemark**: 标记点，通常用于标记地图上的一个位置。
   - **LineString**: 线状元素，用于表示路径、道路或轨迹。
   - **Polygon**: 多边形，用于表示区域，如湖泊、建筑轮廓。
   - **Overlay**: 覆盖图层，可将图像叠加在地图上，例如地理影像图。
   - **Model**: 三维模型，允许在地图上展示三维的建筑物或其他物体。

3. **样式化和标记**: KML 支持丰富的样式定义，可以对地图元素进行颜色、宽度、图标等样式设置，使得地图显示更加丰富和直观。

4. **时间和动画**: KML 支持时间轴和动画，能够展示时间序列数据或动态变化的地理信息，例如路径的动态显示。

5. **嵌套结构**: KML 支持文件中的嵌套结构，允许将地理要素分组和组织，使得复杂的地理数据更加容易管理。

### KML 文件结构

一个典型的 KML 文件包含以下主要部分：

- **KML 根元素**: 所有的 KML 文件都以 `<kml>` 元素开头，并包含 `xmlns` 属性，指定命名空间。
- **Document 元素**: 它是一个容器元素，用于包含 KML 文件中的所有地理要素和样式定义。
- **Placemark 元素**: 用于定义一个特定的地理要素，例如一个点、线或多边形。

### 示例 KML 文件

以下是一个简单的 KML 文件示例，标记了一个点和一个多边形：

```xml
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2">
  <Document>
    <name>Example KML</name>
    
    <Placemark>
      <name>Sample Point</name>
      <Point>
        <coordinates>-122.0822035425683,37.42228990140251,0</coordinates>
      </Point>
    </Placemark>
    
    <Placemark>
      <name>Sample Polygon</name>
      <Polygon>
        <outerBoundaryIs>
          <LinearRing>
            <coordinates>
              -122.084,37.422,0 
              -122.084,37.421,0 
              -122.083,37.421,0 
              -122.083,37.422,0 
              -122.084,37.422,0
            </coordinates>
          </LinearRing>
        </outerBoundaryIs>
      </Polygon>
    </Placemark>
    
  </Document>
</kml>
```

### 解释：

- **<Document>**: 包含了 KML 文件中的所有内容，包括名称、地理要素等。
- **<Placemark>**: 定义一个具体的地理要素，这里包含了一个点和一个多边形。
- **<Point>** 和 **<Polygon>**: 分别定义了点和多边形的几何形状，通过经纬度坐标进行定位。

### KMZ 格式

KMZ 是 KML 文件的压缩版本，用于减小文件大小并打包相关资源（如图像、模型）。KMZ 文件实质上是一个 ZIP 文件，其中包含一个或多个 KML 文件及其相关联的资源文件。

KML 是一种功能强大且灵活的格式，适用于各种地理信息展示和分析任务，尤其是在 Web 和三维地球模型应用中。





------



## GML

GML（Geography Markup Language）是一种基于 XML 的开放标准，用于描述和交换地理空间数据。它由开放地理空间联盟（OGC）制定，旨在提供一种灵活且可扩展的格式，以支持各种地理信息系统（GIS）应用程序中的地理数据建模和存储。

**GML 的主要特点包括：**

1. **基于 XML**：GML 是一种 XML（eXtensible Markup Language）应用规范，这意味着它遵循 XML 的语法规则。GML 文件的结构是树状的，由标记（tags）和属性（attributes）组成，易于阅读和解析。
2. **灵活性和可扩展性**：GML 提供了一套丰富的元素和类型，可以描述各种地理要素，如点、线、面、多边形、曲线等。用户还可以扩展 GML 以满足特定应用的需求。
3. **支持复杂地理数据**：GML 能够描述复杂的地理实体及其属性，如道路、河流、建筑物等，还可以表示这些实体之间的关系，如拓扑关系（相邻、包含等）。
4. **多维支持**：GML 支持多维几何体，可以表示二维、三维甚至四维（包括时间维度）的地理数据。
5. **开放和标准化**：作为 OGC 标准，GML 是一个开放的、标准化的格式，广泛应用于地理信息系统和其他需要处理地理空间数据的领域。
6. **支持数据互操作性**：由于基于 XML，GML 可以与其他基于 XML 的格式（如 SVG、KML）集成，支持跨平台和跨应用的数据交换。

**GML 的基本结构：**

- **要素（Feature）**：GML 中的地理实体通常称为要素，每个要素具有几何（如点、线、面）和属性（如名称、描述）。
- **几何（Geometry）**：用于表示地理位置和形状，如 `<gml:Point>`, `<gml:LineString>`, `<gml:Polygon>` 等。
- **坐标参考系统（CRS）**：GML 支持使用不同的坐标参考系统，可以在 GML 文件中指定数据所使用的 CRS。

**GML 示例**：

```xml
<gml:featureMember>
  <my:Building gml:id="B001">
    <gml:name>Central Library</gml:name>
    <my:height uom="m">50</my:height>
    <gml:Point>
      <gml:coordinates>12.4924,41.8902</gml:coordinates>
    </gml:Point>
  </my:Building>
</gml:featureMember>
```

在这个示例中，`<my:Building>` 元素表示一个建筑物要素，包含其名称、高度和位置。

**应用场景：**

1. **地理数据交换**：GML 被广泛用于在不同的 GIS 系统和平台之间交换地理空间数据。
2. **Web 地图服务（WMS/WFS）**：GML 常用于 OGC 的 Web 地图服务（WMS）和 Web 特征服务（WFS）中，作为数据传输格式。
3. **空间数据基础设施（SDI）**：GML 是空间数据基础设施（如 INSPIRE）的核心标准之一，支持跨国界的地理信息共享和互操作。

**注意事项**：由于 GML 的灵活性和复杂性，处理 GML 文件可能需要较强的解析能力和对 XML 的熟悉程度。同时，由于文件体积可能较大，处理大型 GML 文件可能需要更多的计算资源。



------



## Shapefile



维基百科挺详细的，就不表达个人观点了

[Shapefile - 维基百科，自由的百科全书 (wikipedia.org)](https://zh.wikipedia.org/wiki/Shapefile)



### Shapefile 结构

Shapefile 实际上是由多个文件组成的集合，而不仅仅是一个单独的文件。以下是 Shapefile 的核心组成部分：

1. **.shp 文件**: 存储几何数据。这个文件包含实际的几何形状数据（如点、线、多边形）。
2. **.shx 文件**: 存储几何数据的索引。这个文件是几何数据的索引文件，用于快速访问 .shp 文件中的数据。
3. **.dbf 文件**: 存储属性数据。这个文件是一个 dBASE 表，包含与几何形状相关的属性信息（如名称、类型、面积等）。

这三个文件是 Shapefile 的核心，必须同时存在，才能正常使用。此外，Shapefile 还可能包含以下附加文件：

1. **.prj 文件**: 存储投影信息。这个文件包含 Shapefile 的坐标参考系和投影信息（如 WGS84，UTM 等），通常以文本形式保存。
2. **.cpg 文件**: 定义 .dbf 文件的编码格式。如果属性表包含非 ASCII 字符，这个文件指定了这些字符的编码（如 UTF-8）。
3. **.qix 文件**: 用于空间索引。这个文件是用于提高数据查询速度的空间索引文件，通常由 GIS 软件生成。
4. **.sbn 和 .sbx 文件**: 这些文件也是空间索引文件，用于加速空间查询操作。

### Shapefile 的特点

- **简单易用**: Shapefile 格式比较简单，易于理解和使用，支持广泛的 GIS 软件。
- **兼容性强**: 由于历史悠久，几乎所有的 GIS 软件都支持 Shapefile 格式，包括开源和商业软件。
- **仅支持矢量数据**: Shapefile 仅用于存储矢量数据，不支持栅格数据。

### Shapefile 的局限性

- **文件大小限制**: 每个 Shapefile 的大小不能超过 2 GB。
- **属性表限制**: `.dbf` 文件的字段名长度最多为 10 个字符，且不支持多种数据类型（如日期时间类型）。
- **不支持拓扑**: Shapefile 不支持拓扑关系，因此在进行复杂的地理分析时可能会有局限性。





# 栅格数据格式

## GeoTIFF

GeoTIFF 是一种广泛使用的地理空间栅格数据格式，它扩展了标准的 TIFF（Tagged Image File Format）格式，通过嵌入地理参考信息，使其能够在地理信息系统（GIS）中使用。GeoTIFF 是一种开放格式，支持存储各种类型的栅格数据，如卫星影像、航空照片、数字高程模型（DEM）等。

**GeoTIFF 的主要特点包括：**

1. **地理参考信息**：GeoTIFF 文件包含地理坐标系统、投影、坐标变换参数等信息，使得图像可以在 GIS 软件中直接使用，并与其他地理数据集进行叠加。
2. **多种数据类型**：GeoTIFF 支持存储多种类型的栅格数据，包括但不限于光谱影像、多波段影像、数字高程模型等。每个像素可以是整数、浮点数等不同的数据类型。
3. **多波段支持**：GeoTIFF 可以包含一个或多个波段（图层），这对于多光谱卫星影像特别重要。例如，Landsat 数据通常包含多个波段，每个波段代表不同的光谱范围。
4. **压缩和分块**：GeoTIFF 支持多种压缩算法（如 LZW、JPEG 等），以减少文件大小。它还支持分块存储，使得在读取大文件时可以更快地访问感兴趣的区域。
5. **开放和标准化**：GeoTIFF 是一个开放的、非专有的格式，得到了广泛的支持和使用。许多 GIS 和遥感软件，如 QGIS、ArcGIS、ERDAS IMAGINE、GDAL 等，都可以读写 GeoTIFF 格式。
6. **扩展性**：虽然 GeoTIFF 已经定义了大量的标签（tags）用于描述图像和地理信息，但它也允许用户定义新的标签，以存储特定应用的附加信息。

GeoTIFF 文件通常以 `.tif` 或 `.tiff` 为扩展名。由于其灵活性和广泛支持，GeoTIFF 是地理信息和遥感领域中最常用的栅格数据格式之一。



------









# 其他类型

## GeoPackage 

GeoPackage (GPKG) 是一种开放的、基于 SQLite 数据库的地理空间数据格式。它由开放地理空间联盟（OGC）开发，旨在提供一种标准化的方式来存储矢量数据（如点、线、面）和栅格数据（如图像、栅格图层），同时兼具高效、跨平台和易于传输的特点。

GeoPackage 的特点包括：

1. **单一文件**：GeoPackage 将所有数据（包括矢量、栅格、元数据等）都存储在一个 SQLite 数据库文件中，通常文件扩展名为 `.gpkg`。这使得数据管理和共享变得更加方便。
2. **跨平台兼容**：由于基于 SQLite，GeoPackage 在各种操作系统和软件中都具有良好的兼容性，并且可以通过多种编程语言进行访问。
3. **支持矢量和栅格数据**：GeoPackage 支持多种类型的地理空间数据，既可以存储传统的矢量数据（如 shapefiles 中的数据），也可以存储栅格数据。
4. **标准化格式**：作为 OGC 标准，GeoPackage 是一个开放的、标准化的格式，支持广泛的地理信息系统（GIS）工具和平台，如 QGIS、ArcGIS、GeoServer 等。
5. **高效存储和检索**：由于基于 SQLite 数据库，GeoPackage 支持高效的数据查询、存储和检索，尤其适合处理大数据集。

GeoPackage 被广泛应用于地理信息系统（GIS）、遥感、制图和其他需要处理地理空间数据的领域。



------



## ENVI文件格式

ENVI 文件格式是遥感图像处理中常用的数据格式，广泛用于存储多光谱和高光谱图像数据。它的核心是由两部分组成：**头文件（.hdr）和数据文件**。下面是对这两部分的详细介绍：

1. **头文件 (.hdr)**

   - 是一个纯文本文件，包含关于图像数据的元信息，例如图像的大小、波段数量、数据类型、坐标系、地理信息、光谱信息等。头文件对于解释数据文件中的原始像素值至关重要。

   - 典型内容：

     - `samples`：图像的列数（每行的像素数）
     - `lines`：图像的行数
     - `bands`：波段数
     - `data type`：存储的数据类型（如整型、浮点型等）
       ![72550508879](常见数据格式.assets\1725505088793.png)


     - `interleave`：波段间的排列方式（如 BIP、BIL、BSQ）
       ![72550516802](常见数据格式.assets\1725505168021.png)

     - `map info`：地理坐标信息

     - `byte order`:   二进制数据的字节存储顺序

       ![72550527372](常见数据格式.assets\1725505273723.png)

     - `wavelength`：每个波段的波长信息

2. **数据文件**

   - 存储图像的实际数据值，通常是二进制格式。文件名与头文件对应，但没有扩展名或扩展名为 .img。

   - 数据文件可以包含多个波段的信息，波段排列方式取决于头文件中的 

     ```
     interleave
     ```

      定义：

     - **BIP（Band Interleaved by Pixel）**：每个像素的所有波段数据按顺序存储。
     - **BIL（Band Interleaved by Line）**：每行像素的所有波段数据按顺序存储。
     - **BSQ（Band Sequential）**：每个波段的所有像素依次存储。